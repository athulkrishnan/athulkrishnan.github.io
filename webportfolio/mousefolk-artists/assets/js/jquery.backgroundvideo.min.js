/*
 MouseFolkHomepage 2016-01-22 
*/
!function(a){a.backgroundVideo=function(b,c){var d={videoid:"video_background"},e=this;e.settings={};var f=function(){e.settings=a.extend({},d,c),e.el=b,g()},g=function(){var b="";b+='<video id="'+e.settings.videoid+'" preload="auto" autoplay="autoplay" loop="loop"',e.settings.poster&&(b+=' poster="'+e.settings.poster+'" '),b+='style="display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;">';for(var c=0;c<e.settings.types.length;c++)b+='<source src="'+e.settings.path+e.settings.filename+"."+e.settings.types[c]+'" type="video/'+e.settings.types[c]+'" />';b+="bgvideo</video>",e.el.prepend(b),e.videoEl=document.getElementById(e.settings.videoid),e.$videoEl=a(e.videoEl),e.$videoEl.fadeIn(2e3),h()},h=function(){var a=i();e.$videoEl.width(a*e.settings.width),e.$videoEl.height(a*e.settings.height),"undefined"!=typeof e.settings.align&&j()},i=function(){var b=a(e.settings.holder).width(),c=a(e.settings.holder).height(),d=b/c,f=e.settings.width/e.settings.height,g=c/e.settings.height;return d>=f&&(g=b/e.settings.width),g},j=function(){var b=(a(e.settings.holder).width()>>1)-(e.$videoEl.width()>>1)|0,c=(a(e.settings.holder).height()>>1)-(e.$videoEl.height()>>1)|0;return"centerXY"==e.settings.align?void e.$videoEl.css({left:b,top:c}):"centerX"==e.settings.align?void e.$videoEl.css("left",b):"centerY"==e.settings.align?void e.$videoEl.css("top",c):void 0};f(),a(window).resize(function(){h()}),e.$videoEl.bind("ended",function(){this.play()})}}(jQuery);